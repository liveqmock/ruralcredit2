<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="RL_DEPOSIT">
	<typeAlias alias="deposit" type="com.creditease.rc.domain.Deposit"></typeAlias>
	<resultMap id="abatorgenerated_DepositResult" class="com.creditease.rc.domain.Deposit">
		<!-- WARNING - This element is automatically generated by Abator for iBATIS, do not modify. -->
		<result column="DEPOSITID" property="depositid" jdbcType="DECIMAL" />
		<result column="BORROWER_SERVICE_APP_ID" property="borrowerServiceAppId" jdbcType="DECIMAL" />
		<result column="DEPOSIT_ORGANIZATION" property="depositOrganization" jdbcType="VARCHAR" />
		<result column="DEPOSIT_ORGANIZATION_VIEW" property="depositOrganizationView" jdbcType="VARCHAR" />
		<result column="DEPOSIT_ORGANIZATION_DETAIL" property="depositOrganizationDetail" jdbcType="VARCHAR" />
		<result column="ADDRESS" property="address" jdbcType="VARCHAR" />
		<result column="TELEPHONE" property="telephone" jdbcType="VARCHAR" />
		<result column="BALANCE" property="balance" jdbcType="DECIMAL" />
		<result column="PROVE_DOCUMENT" property="proveDocument" jdbcType="VARCHAR" />
		<result column="SEQ" property="seq" jdbcType="VARCHAR" />
	</resultMap>
	<insert id="insert" parameterClass="deposit">
		<!-- WARNING - This element is automatically generated by Abator for iBATIS, do not modify. -->
		<selectKey keyProperty="depositid" resultClass="java.lang.Long" type="pre">
			select SEQ_BASIC_INFO.NEXTVAL as value from dual
		</selectKey>
		<![CDATA[
			insert into RL_DEPOSIT (DEPOSITID, BORROWER_SERVICE_APP_ID, DEPOSIT_ORGANIZATION,
			DEPOSIT_ORGANIZATION_DETAIL, ADDRESS, TELEPHONE, BALANCE, PROVE_DOCUMENT,SEQ)
			values (#depositid:DECIMAL#, #borrowerServiceAppId:DECIMAL#, #depositOrganization:VARCHAR#,
			#depositOrganizationDetail:VARCHAR#, #address:VARCHAR#, #telephone:VARCHAR#,
			#balance:DECIMAL#, #proveDocument:VARCHAR#,#seq#)
		]]>
	</insert>
	<insert id="dynamicInsert" parameterClass="deposit">
		<selectKey keyProperty="depositid" resultClass="java.lang.Long" type="pre">
			select SEQ_BASIC_INFO.NEXTVAL as value from dual
		</selectKey>
		<![CDATA[
			insert into RL_DEPOSIT(
			DEPOSITID
		]]>
		<dynamic prepend=" ">
			<isNotEmpty property="borrowerServiceAppId">
				,BORROWER_SERVICE_APP_ID
			</isNotEmpty>
			<isNotEmpty property="depositOrganization">
				,DEPOSIT_ORGANIZATION
			</isNotEmpty>
			<isNotEmpty property="depositOrganizationDetail">
				,DEPOSIT_ORGANIZATION_DETAIL
			</isNotEmpty>
			<isNotEmpty property="address">
				,ADDRESS
			</isNotEmpty>
			<isNotEmpty property="telephone">
				,TELEPHONE
			</isNotEmpty>
			<isNotEmpty property="balance">
				,BALANCE
			</isNotEmpty>
			<isNotEmpty property="proveDocument">
				,PROVE_DOCUMENT
			</isNotEmpty>
			<isNotEmpty property="seq">
				,SEQ
			</isNotEmpty>
		</dynamic>
		<![CDATA[
			)values(
			#depositid:INTEGER#
		]]>
		<dynamic prepend=" ">
			<isNotEmpty property="borrowerServiceAppId">
				,#borrowerServiceAppId:DECIMAL#
			</isNotEmpty>
			<isNotEmpty property="depositOrganization">
				,#depositOrganization:VARCHAR#
			</isNotEmpty>
			<isNotEmpty property="depositOrganizationDetail">
				,#depositOrganizationDetail:VARCHAR#
			</isNotEmpty>
			<isNotEmpty property="address">
				,#address:VARCHAR#
			</isNotEmpty>
			<isNotEmpty property="telephone">
				,#telephone:VARCHAR#
			</isNotEmpty>
			<isNotEmpty property="balance">
				,#balance:DECIMAL#
			</isNotEmpty>
			<isNotEmpty property="proveDocument">
				,#proveDocument:VARCHAR#
			</isNotEmpty>
			<isNotEmpty property="seq">
				,#SEQ#
			</isNotEmpty>
		</dynamic>
		<![CDATA[
			)
		]]>
	</insert>
	<update id="update" parameterClass="deposit">
		<![CDATA[
			update RL_DEPOSIT
			set
			BORROWER_SERVICE_APP_ID = #borrowerServiceAppId:DECIMAL#,
			DEPOSIT_ORGANIZATION = #depositOrganization:VARCHAR#,
			DEPOSIT_ORGANIZATION_DETAIL = #depositOrganizationDetail:VARCHAR#,
			ADDRESS = #address:VARCHAR#,
			TELEPHONE = #telephone:VARCHAR#,
			BALANCE = #balance:DECIMAL#,
			PROVE_DOCUMENT = #proveDocument:VARCHAR#
			where
			DEPOSITID = #depositid:DECIMAL#
		]]>
	</update>
	
	<update id="updateDeposit" parameterClass="deposit">
		<![CDATA[
			update RL_DEPOSIT
			set
			DEPOSIT_ORGANIZATION = #depositOrganization:VARCHAR#,
			DEPOSIT_ORGANIZATION_DETAIL = #depositOrganizationDetail:VARCHAR#,
			ADDRESS = #address:VARCHAR#,
			TELEPHONE = #telephone:VARCHAR#,
			BALANCE = #balance:DECIMAL#,
			PROVE_DOCUMENT = #proveDocument:VARCHAR#
			where
			DEPOSITID = #depositid:DECIMAL#
		]]>
	</update>
	
		<update id="updateByborrowerServiceAppId" parameterClass="deposit">
		<![CDATA[
			update RL_DEPOSIT
			set
			
			DEPOSIT_ORGANIZATION = #depositOrganization:VARCHAR#,
			DEPOSIT_ORGANIZATION_DETAIL = #depositOrganizationDetail:VARCHAR#,
			ADDRESS = #address:VARCHAR#,
			TELEPHONE = #telephone:VARCHAR#,
			BALANCE = #balance:DECIMAL#,
			PROVE_DOCUMENT = #proveDocument:VARCHAR#
			where
			BORROWER_SERVICE_APP_ID = #borrowerServiceAppId:DECIMAL#
		]]>
	</update>
	<delete id="deleteByBorrowerServiceAppId" parameterClass="java.lang.Long">
		<![CDATA[
			delete from RL_DEPOSIT
			where
			BORROWER_SERVICE_APP_ID = #borrowerServiceAppId:DECIMAL#
		]]>
	</delete>
	<delete id="deleteByPrimaryKey" parameterClass="java.util.List">
		<![CDATA[
			delete from RL_DEPOSIT
		]]>
		<iterate prepend="where" open="(" close=")" conjunction="OR">
			DEPOSITID = #iDList[]#
		</iterate>
	</delete>
	<select id="selectByBorrowerServiceAppId" resultMap="abatorgenerated_DepositResult" parameterClass="java.lang.Long">
		select d.*,ct.code_value DEPOSIT_ORGANIZATION_VIEW from RL_DEPOSIT d 
		left join rl_codetable ct on (ct.code_key = d.deposit_organization and ct.section='depositOrganization')
		where d.borrower_service_app_id = #borrowerServiceAppId:DECIMAL#
	</select>
</sqlMap>